<!DOCTYPE html>
<html lang="en">

<head>
    <title>One Country</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

    <link rel="stylesheet" type="text/css" href="/main.css">
</head>

<body>

    <!-- 
    TODO 
    
    tabela ma być na początku schowana!!!!!!
    i ma być ładniejsza oczywiście 
    
    -->



    <div id="mainLogo" class="jumbotron text-center">
        <a href="mainSite.html" title="" id="">
            <div class="centered" id="mainLogoText">Comparison</div>
        </a>
    </div>


    <div id="oneCountry" class="jumbotron text-center">

        <div class="centered" id="oneCountry">Check country</div>



        <div class="btn-group">
            <button type="button" class="btn btn-secondary btn-lg dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" id="choose_country" value="brak">Choose country!
    
  </button>
            <ul class="dropdown-menu" id="countries">


            </ul>
            <!--end split button-->
        </div>

    </div>



    <div id="" class="jumbotron text-center">
        <p> TABELA </p>

        <table align="center" cellspacing="0" cellpadding="0" border="0">
            <tr>
                <td width="800" id="td_border" class="td_border" onclick="loadDoc()" ><a href="javascript:funkcja('id_1')">GEOGRAPHY</a></td>
            </tr>
            <tr>
                <td>
                    <table id="id_1" cellspacing="0" cellpadding="0" border="0" style="display:none;">


                        <tr>
                            <td width="400" id="td_border" class="td_border">location</td>
                            <td width="400" id="location" class="td_border"></td>
                        </tr>


                        <tr>
                            <td width="400" id="td_border" class="td_border">map_references</td>
                            <td width="400" id="map_references" class="td_border"></td>
                        </tr>


                        <tr>
                            <td width="400" id="td_border" class="td_border">climate</td>
                            <td width="400" id="climate" class="td_border"></td>
                        </tr>


                        <tr>
                            <td width="400" id="td_border" class="td_border">terrain</td>
                            <td width="400" id="terrain" class="td_border"></td>
                        </tr>


                        <tr>
                            <td width="400" id="td_border" class="td_border">population_distribution</td>
                            <td width="400" id="population_distribution" class="td_border"></td>
                        </tr>


                        <tr>
                            <td width="400" id="td_border" class="td_border">note</td>
                            <td width="400" id="note" class="td_border"></td>
                        </tr>


                        <tr>
                            <td colspan="2" id="td_border" class="td_border"><a href="javascript:funkcja('id_2')">geographic_coordinates</a></td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                <table id="id_2" cellspacing="0" cellpadding="0" border="0" style="display:none;">
                                    <tr>
                                        <td width="400" id="td_border" class="td_border">latitude</td>
                                        <td width="400" id="latitude" class="td_border"></td>
                                    </tr>
                                    <tr>
                                        <td width="400" id="td_border" class="td_border">longitude</td>
                                        <td width="400" id="longitude" class="td_border"></td>
                                    </tr>
                                </table>
                            </td>
                        </tr>


                        <tr>
                            <td colspan="2" id="td_border" class="td_border"><a href="javascript:funkcja('id_3')">area</a></td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                <table id="id_3" cellspacing="0" cellpadding="0" border="0" style="display:none;">
                                    <tr>
                                        <td width="400" id="td_border" class="td_border">total</td>
                                        <td width="400" id="total" class="td_border"></td>
                                    </tr>
                                    <tr>
                                        <td width="400" id="td_border" class="td_border">land</td>
                                        <td width="400" id="land" class="td_border"></td>
                                    </tr>
                                    <tr>
                                        <td width="400" id="td_border" class="td_border">water</td>
                                        <td width="400" id="water" class="td_border"></td>
                                    </tr>
                                    <tr>
                                        <td width="400" id="td_border" class="td_border">global_rank</td>
                                        <td width="400" id="global_rank" class="td_border"></td>
                                    </tr>
                                    <tr>
                                        <td width="400" id="td_border" class="td_border">comparative</td>
                                        <td width="400" id="comparative" class="td_border"></td>
                                    </tr>
                                </table>
                            </td>
                        </tr>


                        <!--<tr>-->
                            <!--<td colspan="2" id="td_border" class="td_border"><a href="javascript:funkcja('id_4')">land_boundaries!!!</a></td>-->
                        <!--</tr>-->
                        <!--<tr>-->
                            <!--<td colspan="2">-->
                                <!--<table id="id_4" cellspacing="0" cellpadding="0" border="0" style="display:none;">-->
                                    <!--<tr>-->
                                        <!--<td width="400" id="td_border" class="td_border">total</td>-->
                                        <!--<td width="400" id="td_border" class="td_border"></td>-->
                                    <!--</tr>-->
                                    <!--<tr>-->
                                        <!--<td width="400" id="td_border" class="td_border">border_countries</td>-->
                                        <!--<td width="400" id="td_border" class="td_border"></td>-->
                                    <!--</tr>-->
                                <!--</table>-->
                            <!--</td>-->
                        <!--</tr>-->


                        <tr>
                            <td colspan="2" id="td_border" class="td_border"><a href="javascript:funkcja('id_5')">elevation</a></td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                <table id="id_5" cellspacing="0" cellpadding="0" border="0" style="display:none;">
                                    <tr>
                                        <td width="400" id="td_border" class="td_border">mean_elevation</td>
                                        <td width="400" id="mean_elevation" class="td_border"></td>
                                    </tr>
                                    <tr>
                                        <td colspan="2" id="td_border" class="td_border"><a href="javascript:funkcja('id_6')">lowest_point</a></td>
                                    </tr>
                                    <tr>
                                        <td colspan="2">
                                            <table id="id_6" cellspacing="0" cellpadding="0" border="0" style="display:none;">
                                                <tr>
                                                    <td width="400" id="td_border" class="td_border">name</td>
                                                    <td width="400" id="lowest_point_name" class="td_border"></td>
                                                </tr>
                                                <tr>
                                                    <td width="400" id="td_border" class="td_border">elevation</td>
                                                    <td width="400" id="lowest_point_elevation" class="td_border"></td>
                                                </tr>
                                            </table>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="2" id="td_border" class="td_border"><a href="javascript:funkcja('id_7')">highest_point</a></td>
                                    </tr>
                                    <tr>
                                        <td colspan="2">
                                            <table id="id_7" cellspacing="0" cellpadding="0" border="0" style="display:none;">
                                                <tr>
                                                    <td width="400" id="td_border" class="td_border">name</td>
                                                    <td width="400" id="highest_point_name" class="td_border"></td>
                                                </tr>
                                                <tr>
                                                    <td width="400" id="td_border" class="td_border">elevation</td>
                                                    <td width="400" id="highest_point_elevation" class="td_border"></td>
                                                </tr>
                                            </table>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>


                        <tr>
                            <td colspan="2" id="td_border" class="td_border"><a href="javascript:funkcja('id_8')">land_use</a></td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                <table id="id_8" cellspacing="0" cellpadding="0" border="0" style="display:none;">
                                    <!--<tr>-->
                                        <!--<td width="400" id="td_border" class="td_border">date</td>-->
                                        <!--<td width="400" id="date" class="td_border"></td>-->
                                    <!--</tr>-->
                                    <tr>
                                        <td colspan="2" id="td_border" class="td_border"><a href="javascript:funkcja('id_9')">by_sector</a></td>
                                    </tr>
                                    <tr>
                                        <td colspan="2">
                                            <table id="id_9" cellspacing="0" cellpadding="0" border="0" style="display:none;">
                                                <tr>
                                                    <td width="400" id="td_border" class="td_border">agricultural_land_total</td>
                                                    <td width="400" id="agricultural_land_total" class="td_border"></td>
                                                </tr>
                                                <tr>
                                                    <td width="400" id="td_border" class="td_border">agricultural_land_arable_land</td>
                                                    <td width="400" id="agricultural_land_arable_land" class="td_border"></td>
                                                </tr>
                                                <tr>
                                                    <td width="400" id="td_border" class="td_border">agricultural_land_permanent_crops</td>
                                                    <td width="400" id="agricultural_land_permanent_crops" class="td_border"></td>
                                                </tr>
                                                <tr>
                                                    <td width="400" id="td_border" class="td_border">agricultural_land_permanent_pasture</td>
                                                    <td width="400" id="agricultural_land_permanent_pasture" class="td_border"></td>
                                                </tr>
                                                <tr>
                                                    <td width="400" id="td_border" class="td_border">forest</td>
                                                    <td width="400" id="forest" class="td_border"></td>
                                                </tr>
                                                <tr>
                                                    <td width="400" id="td_border" class="td_border">other</td>
                                                    <td width="400" id="other" class="td_border"></td>
                                                </tr>
                                            </table>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>


                        <!--<tr>-->
                            <!--<td width="400" id="td_border" class="td_border">natural_hazards!!!</td>-->
                            <!--<td width="400" id="td_border" class="td_border"></td>-->
                        <!--</tr>-->



                        <!--<tr>-->
                            <!--<td colspan="2" id="td_border" class="td_border"><a href="javascript:funkcja('id_10')">environment</a></td>-->
                        <!--</tr>-->
                        <!--<tr>-->
                            <!--<td colspan="2">-->
                                <!--<table id="id_10" cellspacing="0" cellpadding="0" border="0" style="display:none;">-->
                                    <!--&lt;!&ndash;<tr>&ndash;&gt;-->
                                        <!--&lt;!&ndash;<td width="400" id="td_border" class="td_border">current_issues</td>&ndash;&gt;-->
                                        <!--&lt;!&ndash;<td width="400" id="current_issues" class="td_border"></td>&ndash;&gt;-->
                                    <!--&lt;!&ndash;</tr>&ndash;&gt;-->
                                    <!--<tr>-->
                                        <!--<td colspan="2" id="td_border" class="td_border"><a href="javascript:funkcja('id_11')">international_agreements</a></td>-->
                                    <!--</tr>-->
                                    <!--<tr>-->
                                        <!--<td colspan="2">-->
                                            <!--<table id="id_11" cellspacing="0" cellpadding="0" border="0" style="display:none;">-->
                                                <!--<tr>-->
                                                    <!--<td width="400" id="td_border" class="td_border">party_to</td>-->
                                                    <!--<td width="400" id="party_to" class="td_border"></td>-->
                                                <!--</tr>-->
                                                <!--<tr>-->
                                                    <!--<td width="400" id="td_border" class="td_border">signed_but_not_ratified</td>-->
                                                    <!--<td width="400" id="signed_but_not_ratified" class="td_border"></td>-->
                                                <!--</tr>-->
                                            <!--</table>-->
                                        <!--</td>-->
                                    <!--</tr>-->
                                <!--</table>-->
                            <!--</td>-->
                        <!--</tr>-->

                        <tr>
                            <td width="400" id="td_border" class="td_border">coastline</td>
                            <td width="400" id="coastline" class="td_border"></td>
                        </tr>


                        <!--<tr>-->
                            <!--<td width="400" id="td_border" class="td_border">resources</td>-->
                            <!--<td width="400" id="resources" class="td_border"></td>-->
                        <!--</tr>-->

                        <tr>
                            <td width="400" id="td_border" class="td_border">irrigated_land</td>
                            <td width="400" id="irrigated_land" class="td_border"></td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>

    </div>


<script>



    var request = new XMLHttpRequest();
    request.addEventListener("readystatechange", processRequest, false);
    request.open("GET", "//localhost:8080/countries", true);
    request.send();
    function processRequest(e) {
        if (request.readyState == 4 && request.status == 200) {
            var response = JSON.parse(request.responseText);


            var lista;
            var i;
            for(i=0; i<response.length;i++){
                lista += "<li onclick="+"\"changeCountry('"+response[i]+"')\">"+response[i]+"</li>"
            }
            document.getElementById("countries").innerHTML =lista;
        }
    }


</script>


    <script type="text/javascript">
        function changeCountry(country){
            document.getElementById("choose_country").innerHTML = country;
            document.getElementById("choose_country").value = country;
        }

        function funkcja(id) {
            if (document.getElementById(id).style.display == "inline") {
                document.getElementById(id).style.display = "none"
            } else {
                document.getElementById(id).style.display = "inline"
            }
        }

        function loadDoc(){
            var request = new XMLHttpRequest();
            var country = document.getElementById("choose_country").value;
            request.addEventListener("readystatechange", processRequest, false);
            request.open("GET", "//localhost:8080/countries/"+country+"/geography", true);
            request.send();

            function processRequest(e) {
                if (request.readyState == 4 && request.status == 200) {
                    var response = JSON.parse(request.responseText);
                    document.getElementById("location").innerHTML = response.location;

                    document.getElementById("map_references").innerHTML = response.map_references;
                    document.getElementById("climate").innerHTML = response.climate;
                    document.getElementById("terrain").innerHTML = response.terrain;
                    document.getElementById("population_distribution").innerHTML = response.population_distribution;
                    document.getElementById("note").innerHTML = response.note;

                    document.getElementById("latitude").innerHTML = response.geographic_coordinates.latitude.degrees +"'"+ response.geographic_coordinates.latitude.minutes+
                                                                    response.geographic_coordinates.latitude.hemisphere  ;
                    document.getElementById("longitude").innerHTML = response.geographic_coordinates.longitude.degrees +"'"+ response.geographic_coordinates.longitude.minutes+
                        response.geographic_coordinates.longitude.hemisphere  ;
                    document.getElementById("total").innerHTML = response.area.total.value + " " + response.area.total.units;
                    document.getElementById("land").innerHTML = response.area.land.value + " " + response.area.land.units;
                    document.getElementById("water").innerHTML = response.area.water.value + " " + response.area.water.units;
                    document.getElementById("global_rank").innerHTML = response.area.global_rank;
                    document.getElementById("comparative").innerHTML = response.area.comparative;

                    document.getElementById("mean_elevation").innerHTML = response.elevation.mean_elevation.value +" "+response.elevation.mean_elevation.units;
                    document.getElementById("lowest_point_name").innerHTML = response.elevation.lowest_point.name;
                    document.getElementById("lowest_point_elevation").innerHTML = response.elevation.lowest_point.elevation.value +" "+ response.elevation.lowest_point.elevation.units;
                    document.getElementById("highest_point_name").innerHTML = response.elevation.highest_point.name;
                    document.getElementById("highest_point_elevation").innerHTML = response.elevation.highest_point.elevation.value +" "+ response.elevation.highest_point.elevation.units;

                    document.getElementById("agricultural_land_total").innerHTML = response.land_use.by_sector.agricultural_land_total.value +" "+response.land_use.by_sector.agricultural_land_total.units;
                    document.getElementById("agricultural_land_arable_land").innerHTML = response.land_use.by_sector.agricultural_land_arable_land.value +" "+response.land_use.by_sector.agricultural_land_arable_land.units;
                    document.getElementById("agricultural_land_permanent_crops").innerHTML = response.land_use.by_sector.agricultural_land_permanent_crops.value +" "+response.land_use.by_sector.agricultural_land_permanent_crops.units;
                    document.getElementById("agricultural_land_permanent_pasture").innerHTML = response.land_use.by_sector.agricultural_land_permanent_pasture.value +" "+response.land_use.by_sector.agricultural_land_permanent_pasture.units;
                    document.getElementById("forest").innerHTML = response.land_use.by_sector.forest.value +" "+response.land_use.by_sector.forest.units;
                    document.getElementById("other").innerHTML = response.land_use.by_sector.other.value +" "+response.land_use.by_sector.other.units;


                    document.getElementById("coastline").innerHTML = response.coastline.value +" "+response.coastline.units;
                    document.getElementById("irrigated_land").innerHTML = response.irrigated_land.value +" "+response.irrigated_land.units;
                }
            }
        }

    </script>


    <!--latest jQuery-->
    <script src="https://code.jquery.com/jquery-1.12.2.min.js" integrity="sha256-lZFHibXzMHo3GGeehn1hudTAP3Sc0uKXBXAzHX1sjtk=" crossorigin="anonymous"></script>

    <!--Bootstrap-->
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</body>

</html>
